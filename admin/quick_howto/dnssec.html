
<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configure DNSSEC &mdash; Traffic Control 8.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Delivery Service Requests" href="ds_requests.html" />
    <link rel="prev" title="Forcing Content Invalidation" href="content_invalidation.html" />
    <link href="../../_static/theme_overrides.css" rel="stylesheet" type="text/css"/>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Traffic Control
              <img src="../../_static/ATC-SVG-FULL-WHITE.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                8.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../basics/index.html">CDN Basics</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html">Traffic Control Overview</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Administrator’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../traffic_ops.html">Traffic Ops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../environment_creation.html">Environment Creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../traffic_portal/index.html">Traffic Portal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../traffic_monitor.html">Traffic Monitor Administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../traffic_router.html">Traffic Router Administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../traffic_stats.html">Traffic Stats Administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../traffic_server.html">Traffic Server Administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../t3c/index.html">t3c</a></li>
<li class="toctree-l2"><a class="reference internal" href="../traffic_vault.html">Traffic Vault Administration</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Quick How To Guides</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="anonymous_blocking.html">Configure Anonymous Blocking</a></li>
<li class="toctree-l3"><a class="reference internal" href="cachegroup_fallback.html">Configure Cache Group Fallbacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="ciab.html">CDN in a Box</a></li>
<li class="toctree-l3"><a class="reference internal" href="client_cert_auth.html">Client Certificates for Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="content_invalidation.html">Forcing Content Invalidation</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Configure DNSSEC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creating-keys">Creating Keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enabling-and-disabling-dnssec-on-a-cdn">Enabling and Disabling DNSSEC on a CDN</a></li>
<li class="toctree-l4"><a class="reference internal" href="#regenerating-ksks">Regenerating KSKs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#regenerating-keys">Regenerating Keys</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ds_requests.html">Delivery Service Requests</a></li>
<li class="toctree-l3"><a class="reference internal" href="federations.html">Configure Federations</a></li>
<li class="toctree-l3"><a class="reference internal" href="kickstart.html">Creating the CentOS Kickstart File</a></li>
<li class="toctree-l3"><a class="reference internal" href="multi_site.html">Configure Multi-Site Origin</a></li>
<li class="toctree-l3"><a class="reference internal" href="oauth_login.html">Configure OAuth Login</a></li>
<li class="toctree-l3"><a class="reference internal" href="profile_compare_mgmt.html">Compare Profiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="regionalgeo.html">Configure Regional Geo-blocking (RGB)</a></li>
<li class="toctree-l3"><a class="reference internal" href="server_capabililty.html">Manage Server Capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="static_dns.html">Configuring Static DNS Entries</a></li>
<li class="toctree-l3"><a class="reference internal" href="steering.html">Configure Delivery Service Steering</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cdni.html">CDNi Administration</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../development/index.html">Developer’s Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">Traffic Ops API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Traffic Control</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Administrator’s Guide</a></li>
          <li class="breadcrumb-item"><a href="index.html">Quick How To Guides</a></li>
      <li class="breadcrumb-item active">Configure DNSSEC</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/admin/quick_howto/dnssec.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="configure-dnssec">
<span id="dnssec-qht"></span><h1>Configure DNSSEC<a class="headerlink" href="#configure-dnssec" title="Permalink to this heading"></a></h1>
<p>In order to support <a class="reference external" href="https://en.wikipedia.org/wiki/Domain_Name_System_Security_Extensions">DNSSEC</a> in Traffic Router, Traffic Portal provides some actions for managing DNSSEC keys for a CDN and associated <a class="reference internal" href="../../glossary.html#term-Delivery-Services"><span class="xref std std-term">Delivery Services</span></a>. DNSSEC keys consist of a <abbr title="Key Signing Key">KSK</abbr> which is used to sign other DNSKEY records as well as a <abbr title="Zone Signing Keys">ZSK</abbr> which is used to sign other records. DNSSEC keys are stored in Traffic Vault and should only be accessible to Traffic Ops. Other applications needing access to this data, such as Traffic Router, must use the <a class="reference internal" href="../../api/index.html#to-api"><span class="std std-ref">Traffic Ops API</span></a> to retrieve this information.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../traffic_router.html#tr-dnssec"><span class="std std-ref">DNSSEC</span></a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><abbr title="DNS Security Extensions">DNSSEC</abbr> is only supported for DNS-<a class="reference internal" href="../../overview/delivery_services.html#ds-types"><span class="std std-ref">Routed</span></a> <a class="reference internal" href="../../glossary.html#term-Delivery-Services"><span class="xref std std-term">Delivery Services</span></a>.</p>
</div>
<section id="creating-keys">
<h2>Creating Keys<a class="headerlink" href="#creating-keys" title="Permalink to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order for Traffic Ops to successfully store keys in Traffic Vault, at least one Traffic Vault server needs to be configured in Traffic Ops.</p>
</div>
<ol class="arabic">
<li><p>Go to <span class="guilabel">CDNs</span> and click on the desired CDN.</p>
<blockquote>
<div><figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../../_images/001.png"><img alt="Screenshot of the Traffic Portal UI depicting the CDNs page" src="../../_images/001.png" style="width: 60%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 32 </span><span class="caption-text">CDNs Page</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
<li><p>Click on <span class="menuselection">More ‣ Manage DNSSEC Keys</span>.</p>
<blockquote>
<div><figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../../_images/013.png"><img alt="Screenshot of the Traffic Portal UI depicting the CDN details page" src="../../_images/013.png" style="width: 60%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 33 </span><span class="caption-text">CDN Details Page</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
<li><p>Click on the <span class="guilabel">Generate DNSSEC Keys</span> button.</p>
<blockquote>
<div><figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../../_images/023.png"><img alt="Screenshot of the Traffic Portal UI depicting the CDN DNSSEC Key Management page" src="../../_images/023.png" style="width: 60%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 34 </span><span class="caption-text">DNSSEC Key Management Page</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
<li><p>A modal will pop up asking you to confirm that you want to proceed.</p>
<blockquote>
<div><figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../../_images/033.png"><img alt="Screenshot of the Traffic Portal UI depicting the CDN DNSSEC Key Generation confirmation modal" src="../../_images/033.png" style="width: 30%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 35 </span><span class="caption-text">Confirmation Modal</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
<li><p>Input the required information (reasonable defaults should be generated for you). When done, click on the green <span class="guilabel">Generate</span> button.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending upon the number of <a class="reference internal" href="../../glossary.html#term-Delivery-Services"><span class="xref std std-term">Delivery Services</span></a> in the CDN, generating DNSSEC keys may take several seconds.</p>
</div>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../../_images/042.png"><img alt="Screenshot of the Traffic Portal UI depicting the CDN DNSSEC Key Generation page" src="../../_images/042.png" style="width: 50%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 36 </span><span class="caption-text">DNSSEC Key Generation Page</span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
<li><p>You will be prompted to confirm the changes by typing the name of the CDN into a text box. After doing so, click on the red <span class="guilabel">Confirm</span> button.</p>
<blockquote>
<div><figure class="align-center" id="id6">
<a class="reference internal image-reference" href="../../_images/051.png"><img alt="Screenshot of the Traffic Portal UI depicting the confirmation modal for committing changes to DNSSEC Keys." src="../../_images/051.png" style="width: 30%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 37 </span><span class="caption-text">DNSSEC Key Change Confirmation</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
<li><p>In order for <abbr title="DNS Security Extensions">DNSSEC</abbr> to work properly, the <abbr title="Delegation of Signing">DS</abbr> Record information needs to be added to the parent zone of the CDN’s domain (e.g. If the CDN’s domain is ‘ciab.cdn.local’ the parent zone is ‘cdn.local’). If you control your parent zone you can enter this information yourself, otherwise you will need to work with your DNS team to get the <abbr title="Delegation of Signing">DS</abbr> Record added to the parent zone.</p></li>
</ol>
</section>
<section id="enabling-and-disabling-dnssec-on-a-cdn">
<h2>Enabling and Disabling DNSSEC on a CDN<a class="headerlink" href="#enabling-and-disabling-dnssec-on-a-cdn" title="Permalink to this heading"></a></h2>
<ol class="arabic">
<li><p>Once <abbr title="Delegation of Signing">DS</abbr> Record information has been added to the parent zone, DNSSEC needs to be activated for the CDN so that Traffic Router will sign responses. Go to the CDN details page for this CDN, and set the ‘DNSSEC Enabled’ field to ‘true’ (or ‘false’ to disable DNSSEC), then click the green <span class="guilabel">Update</span> button.</p>
<blockquote>
<div><figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../../_images/06.png"><img alt="Screenshot of the Traffic Portal UI depicting the details page for a CDN when changing its 'DNSSEC Enabled' field" src="../../_images/06.png" style="width: 60%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 38 </span><span class="caption-text">Change ‘DNSSEC Enabled’ to ‘true’</span><a class="headerlink" href="#id7" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</div></blockquote>
</li>
<li><p><abbr title="DNS Security Extensions">DNSSEC</abbr> should now be active (or inactive, if disabled) on your CDN and Traffic Router should be signing responses. This should be tested e.g. with this <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/dig(1)">dig(1)</a></em> command: <code class="docutils literal notranslate"><span class="pre">dig</span> <span class="pre">edge.cdn.local.</span> <span class="pre">+dnssec</span></code>.</p></li>
</ol>
</section>
<section id="regenerating-ksks">
<h2>Regenerating KSKs<a class="headerlink" href="#regenerating-ksks" title="Permalink to this heading"></a></h2>
<p>When <abbr title="Key-Signing Key">KSK</abbr> expiration is approaching (default 365 days), it is necessary to manually generate a new <abbr title="Key Signing Key">KSK</abbr> for the <abbr title="Top Level Domain">TLD</abbr> and add the <abbr title="Delegation of Signing">DS</abbr> Record to the parent zone. In order to avoid signing errors, it is suggested that an effective date is chosen which allows time for the <abbr title="Delegation of Signing">DS</abbr> Record to be added to the parent zone before the new <abbr title="Key-Signing Key">KSK</abbr> becomes active.</p>
</section>
<section id="regenerating-keys">
<h2>Regenerating Keys<a class="headerlink" href="#regenerating-keys" title="Permalink to this heading"></a></h2>
<p>It’s also possible to re-do the generation of DNSSEC keys once they have already been generated. This can be done at any point after <a class="reference internal" href="#creating-keys">Creating Keys</a> by clicking on the then-enabled <span class="guilabel">Regenerate Keys</span> button on the CDN’s details page.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="content_invalidation.html" class="btn btn-neutral float-left" title="Forcing Content Invalidation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ds_requests.html" class="btn btn-neutral float-right" title="Delivery Service Requests" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, Apache Traffic Control.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>